This file is part of reiser4progs package.

Copyright (C) 2001, 2002, 2003 by Hans Reiser, licensing governed by
reiser4progs/COPYING.

This is a library for reiser4 filesystem access and manipulation.

Send reiser4progs bug reports, requests for help, feature requests,
comments, etc. to  reiserfs-list@namesys.com.

In order to build the library, type the following sequence:

./configure [OPTIONS]
make
make install

Configure script is accepting the following keys:

--enable-Werror                enable build with gcc -Werror (default=off)
--disable-debug                disable asserts debug information (default=on)

--enable-stand-alone           enable building stand alone library (default=off)

--disable-monolithic           disable embeding plugins in libreiser4
			       (default=on)

--disable-plugins-check        disable plugins validness check in stand alone
                               library (default=on)

--disable-symlinks             disable symlinks support in stand alone
                               library (default=on)

--disable-r5-hash              disable r5 hash plugin in stand alone library
                               (default=on)

--disable-fnv1-hash            disable fnv1 hash plugin in stand alone library
                               (default=on)

--disable-rupasov-hash         disable rupasov hash plugin in stand alone
                               library (default=on)

--disable-tea-hash             disable tea hash plugin in stand alone library
                               (default=on)

--disable-deg-hash             disable degenerate hash plugin in stand alone 
                               library (default=on)

--with-uuid                    add support uuid generating and checking 
                               (default=auto)

--with-readline                add support fancy command line editing 
                               (default=auto)

--with-plugins=PATH            directory plugin libraries (*.so) lie in
                               (default=${prefix}/lib/reiser4)

--with-libaa=PATH              directory libaal was installed in

--with-keys                    key policy in stand alone library (large|short|both)
                               (default=large)

Reiser4 support in GNU GRUB.

reiser4progs package has ability to build so called "stand alone"
libreiser4 library, which purpose is to provide reiser4 read only
support for enviromnents without libc, (that is without memory
manager, string functions, etc.), like GNU GRUB works in.

In order to build such a library, apply --enable-stand-alone key to
./configure script in configuring time and type "make". This library
is pretty small and does not contain balancing code, journal code,
block allocator, etc. As GNU GRUB has strong limitation for its binary
images (used for embeding just after mbr and used for reading main
GRUB core), we strongly recomend you do not build in unused hash
plugins and extra checks code into "stand alone" library.

Most convenient configure comand is the following:

./configure --disable-debug --enable-stand-alone --disable-plugins-check 
--disable-fnv1-hash --disable-rupasov-hash --disable-tea-hash --disable-deg-hash

This assumes, that r5 hash is used in filesystem, as it is not
disabled here.

In the case configure script unable to find libaal, check the
following:

(1) Make sure, that your system has installed libaal of the correct
version (configure script says about expected version).

(2) Make sure, that you have one copy of libaal in the system.  

(3) Make sure, that you have specified correct libaal directory using
--with-libaal option.

(4) Make sure, that /etc/ld.so.conf contains correct path to the
directory libaal installed in.

(5) Make sure, that dynamic linker cache is up to date. Running
ldconfig will not be overkill.

If you have checked all listed above, everything looks correct, and
you're still unable to build reiser4progs, send an email to
reiserfs-list@namesys.com.
